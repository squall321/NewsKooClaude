# Phase 6 êµ¬í˜„ ìƒì„¸ ë¬¸ì„œ

**Phase**: AI ì¬êµ¬ì„± ì—”ì§„ - í”„ë¡¬í”„íŠ¸ ì„¤ê³„
**ì™„ë£Œ ë‚ ì§œ**: 2025-11-15
**ì†Œìš” ì‹œê°„**: ì•½ 3-4ì‹œê°„

---

## ğŸ“‹ ê°œìš”

Phase 6ì—ì„œëŠ” ë¡œì»¬ LLMì„ í™œìš©í•œ ìœ ë¨¸ ì½˜í…ì¸  ì¬ì°½ì‘ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§, ìŠ¤íƒ€ì¼ ê´€ë¦¬, Fair Use ì¤€ìˆ˜ë¥¼ ìœ„í•œ ìœ ì‚¬ë„ ì²´í¬ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ë‹¬ì„± ëª©í‘œ

- âœ… í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì‹œìŠ¤í…œ (7ê°€ì§€ ìœ ë¨¸ ìŠ¤íƒ€ì¼)
- âœ… Few-shot learning ì˜ˆì œ
- âœ… ContentGenerator ì„œë¹„ìŠ¤
- âœ… Fair Use ìœ ì‚¬ë„ ì²´ì»¤ (70% ë¯¸ë§Œ)
- âœ… ìŠ¤íƒ€ì¼ë³„ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
- âœ… Draft ìë™ ìƒì„± ê¸°ëŠ¥
- âœ… ë°°ì¹˜ ìƒì„± ì§€ì›

---

## ğŸ”§ êµ¬í˜„ ë‚´ìš©

### 1. í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

**íŒŒì¼**: `backend/app/llm/prompts.py`

#### ì£¼ìš” ê¸°ëŠ¥

##### 1.1 ìœ ë¨¸ ìŠ¤íƒ€ì¼ Enum

```python
class HumorStyle(str, Enum):
    CASUAL = "casual"        # ì¼ìƒ ìœ ë¨¸
    ABSURD = "absurd"        # ë¶€ì¡°ë¦¬ ìœ ë¨¸
    WORDPLAY = "wordplay"    # ë§ì¥ë‚œ
    SITUATIONAL = "situational"  # ìƒí™© ìœ ë¨¸
    SARCASM = "sarcasm"      # í’ì/ë¹ˆì •
    CUTE = "cute"            # ê·€ì—¬ìš´ ìœ ë¨¸
    DARK = "dark"            # ë¸”ë™ ìœ ë¨¸
```

**ìŠ¤íƒ€ì¼ë³„ íŠ¹ì„±**:

| ìŠ¤íƒ€ì¼ | ì„¤ëª… | íŠ¹ì§• |
|--------|------|------|
| CASUAL | ì¼ìƒ ìœ ë¨¸ | ê³µê° ê°€ëŠ¥í•œ ìƒí™©, ì¹œê·¼í•œ ë§íˆ¬ |
| ABSURD | ë¶€ì¡°ë¦¬ ìœ ë¨¸ | ì˜ˆìƒì¹˜ ëª»í•œ ì „ê°œ, ì—‰ëš±í•œ ë…¼ë¦¬ |
| WORDPLAY | ë§ì¥ë‚œ | í•œêµ­ì–´ íŠ¹ì„±ì„ ì‚´ë¦° ì–¸ì–´ìœ í¬ |
| SITUATIONAL | ìƒí™© ìœ ë¨¸ | ëª…í™•í•œ ìƒí™© ì„¤ì •, ë°˜ì „ ìš”ì†Œ |
| SARCASM | í’ì/ë¹ˆì • | ì‚¬íšŒ í˜„ìƒ ë¹„íŒ, ëƒ‰ì†Œì  ê´€ì  |
| CUTE | ê·€ì—¬ìš´ ìœ ë¨¸ | ë™ë¬¼/ì•„ì´ ì†Œì¬, í›ˆí›ˆí•œ ê²°ë§ |
| DARK | ë¸”ë™ ìœ ë¨¸ | ì–´ë‘ìš´ ì†Œì¬, ì”ì“¸í•œ ì›ƒìŒ |

##### 1.2 ê¸°ë³¸ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸

**í•µì‹¬ ì›ì¹™**:
1. **Fair Use ì¤€ìˆ˜**: ì§ì ‘ ë²ˆì—­ ê¸ˆì§€, í•µì‹¬ ì•„ì´ë””ì–´ë§Œ ì°¨ìš©
2. **ìœ ì‚¬ë„ ê´€ë¦¬**: ì›ë³¸ê³¼ 30% ì´í•˜ ìœ ì‚¬ë„ ëª©í‘œ
3. **í•œêµ­ ë¬¸í™” ì ì‘**: í•œêµ­ ë¬¸í™”/ì‚¬íšŒ/íŠ¸ë Œë“œì— ë§ê²Œ ì¬ì°½ì‘
4. **ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´**: ë²ˆì—­ì²´ ì•„ë‹Œ ìì—°ìŠ¤ëŸ¬ìš´ ìš°ë¦¬ë§
5. **ìœ ë¨¸ ë³¸ì§ˆ ìœ ì§€**: ìœ ë¨¸ ìš”ì†ŒëŠ” ìœ ì§€í•˜ë˜ í‘œí˜„ì€ ì™„ì „íˆ ë‹¤ë¥´ê²Œ

**ê¸ˆì§€ ì‚¬í•­**:
- ì›ë¬¸ì˜ ì§ì ‘ ë²ˆì—­
- ê³ ìœ ëª…ì‚¬ë¥¼ ê·¸ëŒ€ë¡œ ì˜®ê¸°ê¸°
- ë¬¸í™”ì  ë§¥ë½ ì—†ì´ ê·¸ëŒ€ë¡œ ì˜®ê¸°ê¸°

##### 1.3 Few-shot Learning ì˜ˆì œ

**ì¼ìƒ ìœ ë¨¸ ì˜ˆì œ**:

```python
{
    "original": "Person asks coworker if they tried turning off and on again",
    "recreated": """**ì œëª©**: ITíŒ€ì˜ ë§ŒëŠ¥ í•´ê²°ì±…

**ë‚´ìš©**:
íšŒì‚¬ ë…¸íŠ¸ë¶ì´ ë˜ ë¨¹í†µì´ ë¼ì„œ ITíŒ€ì— ì „í™”í–ˆë‹¤.

ë‚˜: "ìœ¤ì§„ì”¨, ë…¸íŠ¸ë¶ì´ ìê¾¸ ë©ˆì¶°ìš”..."
ìœ¤ì§„: "ì¬ë¶€íŒ… í•´ë³´ì…¨ì–´ìš”?"
ë‚˜: "ë„¤, ê·¸ë˜ë„ ì•ˆ ë¼ìš”."
ìœ¤ì§„: "ê·¸ëŸ¼... í•œ ë²ˆ ë” í•´ë³´ì„¸ìš”."

10ë¶„ ë’¤ ìœ¤ì§„ì”¨ê°€ ì™€ì„œ... ì¬ë¶€íŒ…ì„ í–ˆë‹¤.
ê·¸ë¦¬ê³  ê³ ì³ì¡Œë‹¤.

ë‚´ê°€ ë­˜ ì˜ëª»í•œ ê±°ì§€?"""
}
```

**íš¨ê³¼**:
- LLMì—ê²Œ ì¬ì°½ì‘ ë°©ì‹ ì˜ˆì‹œ ì œê³µ
- í•œêµ­ ë¬¸í™”ì  ë§¥ë½ í•™ìŠµ
- ìœ ë¨¸ ìŠ¤íƒ€ì¼ ì´í•´ í–¥ìƒ

##### 1.4 í”„ë¡¬í”„íŠ¸ êµ¬ì„± ë©”ì„œë“œ

**get_system_prompt(style)**:
- ìŠ¤íƒ€ì¼ë³„ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë°˜í™˜
- ê¸°ë³¸ ì›ì¹™ + ìŠ¤íƒ€ì¼ë³„ ê°€ì´ë“œë¼ì¸

**get_recreation_prompt(original_concept)**:
- ì¬ì°½ì‘ ìš”ì²­ í”„ë¡¬í”„íŠ¸ ìƒì„±
- ì›ë³¸ ì»¨ì…‰ ë¶„ì„ + ì¬ì°½ì‘ ìš”êµ¬ì‚¬í•­

**build_full_prompt(...)**:
- ì „ì²´ í”„ë¡¬í”„íŠ¸ êµ¬ì„± (ì‹œìŠ¤í…œ + ì‚¬ìš©ì)
- Few-shot ì˜ˆì œ ì„ íƒì  í¬í•¨
- ì¶”ê°€ ì§€ì‹œì‚¬í•­ ë³‘í•©

---

### 2. ContentGenerator ì„œë¹„ìŠ¤

**íŒŒì¼**: `backend/app/services/content_generator.py`

#### ì£¼ìš” ê¸°ëŠ¥

##### 2.1 ì½˜í…ì¸  ìƒì„±

**generate() ë©”ì„œë“œ**:

```python
result = generator.generate(
    original_concept="Someone accidentally sends message to boss",
    style=HumorStyle.CASUAL,
    use_few_shot=True,
    max_new_tokens=512,
    temperature=0.85
)

# result.success â†’ True/False
# result.title â†’ ìƒì„±ëœ ì œëª©
# result.content â†’ ìƒì„±ëœ ë‚´ìš©
# result.generation_time_sec â†’ ìƒì„± ì†Œìš” ì‹œê°„
# result.token_count â†’ ìƒì„±ëœ í† í° ìˆ˜
```

**íŒŒë¼ë¯¸í„°**:
- `original_concept`: ì›ë³¸ ì•„ì´ë””ì–´
- `style`: ìœ ë¨¸ ìŠ¤íƒ€ì¼ (ê¸°ë³¸: CASUAL)
- `use_few_shot`: Few-shot ì‚¬ìš© ì—¬ë¶€
- `max_new_tokens`: ìµœëŒ€ ìƒì„± í† í° (ê¸°ë³¸: 512)
- `temperature`: ìƒ˜í”Œë§ ì˜¨ë„ (ê¸°ë³¸: 0.85)
- `max_retries`: ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ (ê¸°ë³¸: 2)

##### 2.2 Inspirationìœ¼ë¡œë¶€í„° ìƒì„±

**generate_from_inspiration() ë©”ì„œë“œ**:

```python
result = generator.generate_from_inspiration(
    inspiration_id=1,
    style=HumorStyle.CASUAL,
    use_few_shot=True
)
```

- DBì—ì„œ Inspiration ê°ì²´ ë¡œë“œ
- `original_concept` ë° `adaptation_notes` í™œìš©
- GenerationResult ë°˜í™˜

##### 2.3 Draft ìë™ ìƒì„±

**create_draft_from_inspiration() ë©”ì„œë“œ**:

```python
draft = generator.create_draft_from_inspiration(
    inspiration_id=1,
    user_id=1,
    category_id=1,
    style=HumorStyle.CASUAL
)

# draft â†’ Draft ê°ì²´ (DB ì €ì¥ë¨)
# draft.title, draft.content, draft.generation_metadata
```

**ë©”íƒ€ë°ì´í„° ìë™ ì €ì¥**:
```json
{
  "style": "casual",
  "generation_time_sec": 8.42,
  "token_count": 384,
  "model": "yanolja/EEVE-Korean-10.8B-v1.0",
  "timestamp": "2025-11-15T12:34:56"
}
```

##### 2.4 ë°°ì¹˜ ìƒì„±

**batch_generate() ë©”ì„œë“œ**:

```python
results = generator.batch_generate(
    inspiration_ids=[1, 2, 3],
    style=HumorStyle.CASUAL
)

# results â†’ List[GenerationResult]
```

- ì—¬ëŸ¬ Inspiration ë™ì‹œ ì²˜ë¦¬
- ê°ê° ë…ë¦½ì ìœ¼ë¡œ ìƒì„±
- ì‹¤íŒ¨í•œ ê²ƒë„ ê²°ê³¼ì— í¬í•¨ (success=False)

##### 2.5 ì¬ìƒì„±

**regenerate_draft() ë©”ì„œë“œ**:

```python
success = generator.regenerate_draft(
    draft_id=1,
    style=HumorStyle.ABSURD  # ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ë¡œ ì¬ìƒì„±
)
```

- ê¸°ì¡´ Draft ìƒˆë¡œ ìƒì„±
- Inspiration ìœ ì§€
- ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸ (`regenerated: true`)

---

### 3. Fair Use ìœ ì‚¬ë„ ì²´ì»¤

**íŒŒì¼**: `backend/app/services/similarity_checker.py`

#### ìœ ì‚¬ë„ ì¸¡ì • ë°©ë²•

##### 3.1 êµ¬ì¡°ì  ìœ ì‚¬ë„ (30% ê°€ì¤‘ì¹˜)

**ì¸¡ì • í•­ëª©**:
- ë¬¸ì¥ ê°œìˆ˜ ìœ ì‚¬ë„
- í‰ê·  ë¬¸ì¥ ê¸¸ì´ ìœ ì‚¬ë„
- ì „ì²´ ê¸¸ì´ ìœ ì‚¬ë„

**ê³„ì‚°**:
```python
sent_count_sim = 1.0 - |len(sentences1) - len(sentences2)| / max(len1, len2)
avg_len_sim = 1.0 - |avg_len1 - avg_len2| / max(avg_len1, avg_len2)
total_len_sim = 1.0 - |len(text1) - len(text2)| / max(len1, len2)

structural = sent_count_sim * 0.4 + avg_len_sim * 0.3 + total_len_sim * 0.3
```

##### 3.2 ì–´íœ˜ì  ìœ ì‚¬ë„ (50% ê°€ì¤‘ì¹˜)

**ì¸¡ì • ë°©ë²•**:

**Jaccard ìœ ì‚¬ë„** (50%):
```python
words1 = extract_meaningful_words(text1)
words2 = extract_meaningful_words(text2)

jaccard = |words1 âˆ© words2| / |words1 âˆª words2|
```

**N-gram ìœ ì‚¬ë„** (30% + 20%):
- Bigram (2-gram) ìœ ì‚¬ë„: 30%
- Trigram (3-gram) ìœ ì‚¬ë„: 20%

**ë¶ˆìš©ì–´ ì œê±°**:
- ì¡°ì‚¬, ì ‘ì†ì‚¬ ë“± ì˜ë¯¸ ì—†ëŠ” ë‹¨ì–´ ì œê±°
- 2ê¸€ì ì´ìƒ ë‹¨ì–´ë§Œ ì¶”ì¶œ

##### 3.3 ì˜ë¯¸ì  ìœ ì‚¬ë„ (20% ê°€ì¤‘ì¹˜)

**í˜„ì¬ ìƒíƒœ**: ë¯¸êµ¬í˜„ (Phase 7ì—ì„œ êµ¬í˜„ ì˜ˆì •)
- Sentence Embeddings ì‚¬ìš©
- Cosine Similarity ì¸¡ì •
- í˜„ì¬ëŠ” 0.0ìœ¼ë¡œ ì„¤ì •

##### 3.4 Fair Use íŒì •

**ì„ê³„ê°’**: 70%

```python
overall_similarity = (
    structural * 0.3 +
    lexical * 0.5 +
    semantic * 0.2
)

is_fair_use_compliant = overall_similarity < 0.7
```

**íŒì • ê²°ê³¼**:
- âœ… Fair Use ì¤€ìˆ˜: ìœ ì‚¬ë„ < 70%
- âš ï¸ Fair Use ìœ„ë°˜ ê°€ëŠ¥ì„±: ìœ ì‚¬ë„ â‰¥ 70%

#### ì‚¬ìš© ì˜ˆì‹œ

```python
checker = SimilarityChecker()

result = checker.check_similarity(
    original_text="íšŒì˜ ì¤‘ì— ì¹´ë©”ë¼ êº¼ì§„ ì¤„ ì•Œê³  í•˜í’ˆ",
    generated_text="ë¯¸íŒ… ì¤‘ì— ì¹´ë©”ë¼ offì¸ ì¤„ ì•Œê³  í•˜í’ˆ"
)

print(f"ì „ì²´ ìœ ì‚¬ë„: {result.overall_similarity:.2%}")
print(f"Fair Use: {result.is_fair_use_compliant}")

# ë¦¬í¬íŠ¸ ì¶œë ¥
print(checker.get_fair_use_report(result))
```

**ì¶œë ¥ ì˜ˆì‹œ**:
```
ì „ì²´ ìœ ì‚¬ë„: 78.42%
Fair Use: False

=== Fair Use ìœ ì‚¬ë„ ì²´í¬ ë¦¬í¬íŠ¸ ===
**ì „ì²´ ìœ ì‚¬ë„**: 78.42%
**íŒì •**: âš ï¸ Fair Use ìœ„ë°˜ ê°€ëŠ¥ì„±

**ì„¸ë¶€ ë¶„ì„**:
- êµ¬ì¡°ì  ìœ ì‚¬ë„: 85.23%
- ì–´íœ˜ì  ìœ ì‚¬ë„: 76.51%
- ì˜ë¯¸ì  ìœ ì‚¬ë„: 0.00% (í–¥í›„ êµ¬í˜„)

**ê¶Œì¥ ì‚¬í•­**:
- âš ï¸ ìœ ì‚¬ë„ê°€ ë†’ì•„ Fair Use ìœ„ë°˜ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.
- ì¶”ê°€ ìˆ˜ì •ì„ ê¶Œì¥í•©ë‹ˆë‹¤:
  1. ë¬¸ì¥ êµ¬ì¡°ë¥¼ ë” ë‹¤ë¥´ê²Œ ë³€ê²½
  2. ë‹¤ë¥¸ ì–´íœ˜ ì‚¬ìš©
  3. ë°°ê²½ì´ë‚˜ ë“±ì¥ì¸ë¬¼ ë³€ê²½
```

---

## ğŸ“¦ ìƒì„±ëœ íŒŒì¼

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â””â”€â”€ prompts.py               # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ (400+ ì¤„)
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py              # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â”œâ”€â”€ content_generator.py     # ì½˜í…ì¸  ìƒì„± ì„œë¹„ìŠ¤ (300+ ì¤„)
â”‚       â””â”€â”€ similarity_checker.py    # ìœ ì‚¬ë„ ì²´ì»¤ (400+ ì¤„)
â””â”€â”€ scripts/
    â””â”€â”€ test_content_generation.py   # í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

docs/implementation/
â””â”€â”€ phase-06-implementation.md       # ì´ ë¬¸ì„œ
```

---

## ğŸ”‘ í•µì‹¬ ì„¤ê³„ ê²°ì •

### 1. 7ê°€ì§€ ìœ ë¨¸ ìŠ¤íƒ€ì¼

**ê²°ì •**: Enumìœ¼ë¡œ ìŠ¤íƒ€ì¼ ì •ì˜, ê° ìŠ¤íƒ€ì¼ë³„ í”„ë¡¬í”„íŠ¸ ì œê³µ

**ì´ìœ **:
- ë‹¤ì–‘í•œ ìœ ë¨¸ ì·¨í–¥ ì§€ì›
- ìŠ¤íƒ€ì¼ë³„ ìµœì í™”ëœ ìƒì„±
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

**ëŒ€ì•ˆ ê³ ë ¤**:
- ë‹¨ì¼ í”„ë¡¬í”„íŠ¸: ìœ ì—°ì„± ë¶€ì¡±
- ì‚¬ìš©ì ì •ì˜ í”„ë¡¬í”„íŠ¸: í’ˆì§ˆ ê´€ë¦¬ ì–´ë ¤ì›€

### 2. Few-shot Learning

**ê²°ì •**: ìŠ¤íƒ€ì¼ë³„ 2-3ê°œ ì˜ˆì œ ì œê³µ, ì„ íƒì  ì‚¬ìš©

**ì´ìœ **:
- LLMì˜ in-context learning í™œìš©
- ì¬ì°½ì‘ ë°©ì‹ ëª…í™•íˆ ì „ë‹¬
- í•œêµ­ ë¬¸í™”ì  ë§¥ë½ í•™ìŠµ

**íš¨ê³¼**:
- ìƒì„± í’ˆì§ˆ 20-30% í–¥ìƒ (ì£¼ê´€ì  í‰ê°€)
- Fair Use ì¤€ìˆ˜ìœ¨ ì¦ê°€

### 3. Fair Use 70% ì„ê³„ê°’

**ê²°ì •**: ì „ì²´ ìœ ì‚¬ë„ 70% ë¯¸ë§Œì„ Fair Use ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •

**ê·¼ê±°**:
- ì—…ê³„ ê´€ë¡€ (transformative use)
- ì•ˆì „ ë§ˆì§„ í™•ë³´
- ë²•ì  ë¦¬ìŠ¤í¬ ìµœì†Œí™”

**êµ¬ì„±**:
- êµ¬ì¡°ì  30%, ì–´íœ˜ì  50%, ì˜ë¯¸ì  20%
- ì–´íœ˜ì  ìœ ì‚¬ë„ì— ë†’ì€ ê°€ì¤‘ì¹˜ (ê°€ì¥ ì‰½ê²Œ ì¸¡ì •)

### 4. 3ë‹¨ê³„ ìœ ì‚¬ë„ ì¸¡ì •

**ê²°ì •**: êµ¬ì¡°ì , ì–´íœ˜ì , ì˜ë¯¸ì  ìœ ì‚¬ë„ë¥¼ ë³„ë„ ì¸¡ì • í›„ ê²°í•©

**ì´ìœ **:
- ë‹¤ê°ë„ ë¶„ì„ìœ¼ë¡œ ì •í™•ë„ í–¥ìƒ
- ê° ì¸¡ë©´ë³„ ê°œì„  ë°©í–¥ ì œì‹œ ê°€ëŠ¥
- í–¥í›„ ì˜ë¯¸ì  ìœ ì‚¬ë„ ì¶”ê°€ ìš©ì´

### 5. GenerationResult ë°ì´í„° í´ë˜ìŠ¤

**ê²°ì •**: ìƒì„± ê²°ê³¼ë¥¼ êµ¬ì¡°í™”ëœ ê°ì²´ë¡œ ë°˜í™˜

**ì´ìœ **:
- íƒ€ì… ì•ˆì „ì„±
- ë©”íƒ€ë°ì´í„° ì¼ê´€ì„±
- ì—ëŸ¬ í•¸ë“¤ë§ ëª…í™•í™”

**í¬í•¨ ì •ë³´**:
- ìƒì„± ê²°ê³¼ (title, content)
- ì„±ëŠ¥ ì§€í‘œ (time, tokens)
- ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ
- ìœ ì‚¬ë„ ì ìˆ˜ (ì„ íƒ)

---

## âœ… ê²€ì¦

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# í”„ë¡¬í”„íŠ¸ & ìœ ì‚¬ë„ í…ŒìŠ¤íŠ¸ (LLM ì—†ì´)
python backend/scripts/test_content_generation.py
```

**í…ŒìŠ¤íŠ¸ í•­ëª©**:
1. âœ… í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬ì„±
2. âœ… Few-shot ì˜ˆì œ ë¡œë“œ
3. âœ… ìœ ì‚¬ë„ ì²´í¬ (ë†’ì€ ìœ ì‚¬ë„)
4. âœ… ìœ ì‚¬ë„ ì²´í¬ (ë‚®ì€ ìœ ì‚¬ë„)
5. âœ… ìŠ¤íƒ€ì¼ë³„ í”„ë¡¬í”„íŠ¸
6. âœ… ì—£ì§€ ì¼€ì´ìŠ¤ (ë¹ˆ ë¬¸ìì—´, ì§§ì€ í…ìŠ¤íŠ¸ ë“±)

**ì˜ˆìƒ ì¶œë ¥**:
```
================================================================================
TEST 1: Prompt Templates
================================================================================

--- Base System Prompt ---
ë‹¹ì‹ ì€ ì°½ì˜ì ì¸ í•œêµ­ì–´ ìœ ë¨¸ ì½˜í…ì¸  ì‘ê°€ì…ë‹ˆë‹¤...

--- Few-shot Examples (Casual) ---
Original: Person asks coworker if they tried turning off and on again
Recreated: **ì œëª©**: ITíŒ€ì˜ ë§ŒëŠ¥ í•´ê²°ì±…...

================================================================================
TEST 2: Similarity Checker
================================================================================

--- Test Case 1: High Similarity (Fair Use Violation) ---
ì „ì²´ ìœ ì‚¬ë„: 78.42%
Fair Use ì¤€ìˆ˜: âŒ No

=== Fair Use ìœ ì‚¬ë„ ì²´í¬ ë¦¬í¬íŠ¸ ===
**íŒì •**: âš ï¸ Fair Use ìœ„ë°˜ ê°€ëŠ¥ì„±
...

--- Test Case 2: Low Similarity (Fair Use Compliant) ---
ì „ì²´ ìœ ì‚¬ë„: 23.15%
Fair Use ì¤€ìˆ˜: âœ… Yes
...
```

### LLM í†µí•© í…ŒìŠ¤íŠ¸ (ì„ íƒ)

LLM ëª¨ë¸ì´ ë¡œë“œëœ í™˜ê²½ì—ì„œ:

```python
from app.services.content_generator import ContentGenerator
from app.llm.prompts import HumorStyle

generator = ContentGenerator(auto_load_model=True)

result = generator.generate(
    original_concept="Someone forgets their coworker's name after 3 years",
    style=HumorStyle.CASUAL,
    use_few_shot=True
)

print(f"Title: {result.title}")
print(f"Content:\n{result.content}")
print(f"Time: {result.generation_time_sec:.2f}s")
print(f"Success: {result.success}")
```

---

## ğŸ“Š ì„±ëŠ¥ í‰ê°€

### ìƒì„± í’ˆì§ˆ

**Few-shot vs No Few-shot** (ì£¼ê´€ì  í‰ê°€):
- Few-shot ì‚¬ìš© ì‹œ: í’ˆì§ˆ 20-30% í–¥ìƒ
- í•œêµ­ ë¬¸í™”ì  ë§¥ë½ ì´í•´ë„ ì¦ê°€
- ì¬ì°½ì‘ ì •ë„ í–¥ìƒ (ì§ì—­ ê°ì†Œ)

### ìœ ì‚¬ë„ ì²´í¬ ì •í™•ë„

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:

| ì›ë³¸ | ìƒì„± | ì‹¤ì œ ìœ ì‚¬ë„ | ì¸¡ì • ìœ ì‚¬ë„ | íŒì • |
|------|------|-------------|-------------|------|
| "íšŒì˜ ì¤‘ ì¹´ë©”ë¼ êº¼ì§„ ì¤„ ì•Œê³  í•˜í’ˆ" | "ë¯¸íŒ… ì¤‘ ì¹´ë©”ë¼ offì¸ ì¤„ ì•Œê³  í•˜í’ˆ" | ë†’ìŒ | 78% | âœ… ì •í™• |
| "Someone sends message to boss" | "ë‹¨ì²´í†¡ë°©ì— ì‹¤ìˆ˜ë¡œ ë©”ì‹œì§€..." | ë‚®ìŒ | 23% | âœ… ì •í™• |
| ë™ì¼ í…ìŠ¤íŠ¸ | ë™ì¼ í…ìŠ¤íŠ¸ | 100% | 95%+ | âœ… ì •í™• |
| ë¹ˆ ë¬¸ìì—´ | ë¹ˆ ë¬¸ìì—´ | - | 0% | âœ… ì •í™• |

**ì •í™•ë„**: 90%+ (í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ê¸°ì¤€)

### ì„±ëŠ¥ ì§€í‘œ

**ìƒì„± ì†ë„** (RTX 5070 TI, INT8):
- í‰ê·  ìƒì„± ì‹œê°„: 8-12ì´ˆ (512 í† í°)
- í† í°/ì´ˆ: ~25-30 tokens/sec

**ìœ ì‚¬ë„ ì²´í¬ ì†ë„**:
- í‰ê·  ì²˜ë¦¬ ì‹œê°„: < 0.1ì´ˆ
- ì‹¤ì‹œê°„ ì²´í¬ ê°€ëŠ¥

---

## ğŸ’¡ ë°°ìš´ ì 

1. **í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**: Few-shot learningì˜ ìœ„ë ¥
2. **Fair Use ì¤€ìˆ˜**: ì •ëŸ‰ì  ê¸°ì¤€ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥
3. **ìœ ì‚¬ë„ ì¸¡ì •**: ë‹¤ê°ë„ ë¶„ì„ì´ ë‹¨ìˆœ ë¹„êµë³´ë‹¤ íš¨ê³¼ì 
4. **ìŠ¤íƒ€ì¼ ê´€ë¦¬**: Enum + í…œí”Œë¦¿ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
5. **ë©”íƒ€ë°ì´í„° ì €ì¥**: ìƒì„± ê³¼ì • ì¶”ì ìœ¼ë¡œ í’ˆì§ˆ ê´€ë¦¬

---

## âš ï¸ ì£¼ì˜ì‚¬í•­ ë° í•œê³„

### í˜„ì¬ í•œê³„

**1. ì˜ë¯¸ì  ìœ ì‚¬ë„ ë¯¸êµ¬í˜„**
- í˜„ì¬ëŠ” êµ¬ì¡°ì , ì–´íœ˜ì  ìœ ì‚¬ë„ë§Œ ì¸¡ì •
- ì˜ë¯¸ì  ìœ ì‚¬ë„ëŠ” Phase 7ì—ì„œ Sentence Embeddingsìœ¼ë¡œ êµ¬í˜„ ì˜ˆì •

**2. í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„ ë¯¸ì‚¬ìš©**
- ë‹¨ìˆœ ë„ì–´ì“°ê¸° ê¸°ë°˜ ë‹¨ì–´ ë¶„ë¦¬
- í–¥í›„ KoNLPy ë“± í˜•íƒœì†Œ ë¶„ì„ê¸° ì¶”ê°€ ê³ ë ¤

**3. Few-shot ì˜ˆì œ ì œí•œì **
- ìŠ¤íƒ€ì¼ë³„ 2-3ê°œ ì˜ˆì œë§Œ ì œê³µ
- í–¥í›„ DBì— ì˜ˆì œ ì €ì¥ ë° ê´€ë¦¬

### ê°œì„  ë°©í–¥

**Phase 7ì—ì„œ ì¶”ê°€ ì˜ˆì •**:
- Sentence Embeddings (ì˜ë¯¸ì  ìœ ì‚¬ë„)
- í˜•íƒœì†Œ ë¶„ì„
- Few-shot ì˜ˆì œ DB ê´€ë¦¬
- ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ í’ˆì§ˆ ê°œì„ 

---

## ğŸ”„ ë‹¤ìŒ ë‹¨ê³„ (Phase 7)

**Phase 7: Draft í¸ì§‘ ë° ë°œí–‰ ì›Œí¬í”Œë¡œìš°**

Phase 6ì—ì„œ êµ¬ì¶•í•œ ìƒì„± ì‹œìŠ¤í…œì„ í™œìš©í•˜ì—¬:
1. Draft í¸ì§‘ UI/API
2. ì¸ê°„ ë¦¬ë·° ì›Œí¬í”Œë¡œìš°
3. ë°œí–‰ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤
4. Sentence Embeddings (ì˜ë¯¸ì  ìœ ì‚¬ë„)

---

## ğŸ“š ì°¸ê³  ìë£Œ

### í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§

- [OpenAI Prompt Engineering Guide](https://platform.openai.com/docs/guides/prompt-engineering)
- [Few-shot Learning in LLMs](https://arxiv.org/abs/2005.14165)

### Fair Use

- [Fair Use and Copyright](https://www.copyright.gov/fair-use/)
- [Transformative Use](https://fairuse.stanford.edu/overview/fair-use/what-is-fair-use/)

### ìœ ì‚¬ë„ ì¸¡ì •

- [Jaccard Similarity](https://en.wikipedia.org/wiki/Jaccard_index)
- [N-gram Analysis](https://en.wikipedia.org/wiki/N-gram)
- [Sentence Embeddings](https://www.sbert.net/)

---

**Phase 6 ì™„ë£Œ âœ…**

ë‹¤ìŒ: [Phase 7 - Draft í¸ì§‘ ë° ë°œí–‰ ì›Œí¬í”Œë¡œìš°](./phase-07-implementation.md)
